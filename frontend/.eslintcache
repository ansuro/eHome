[{"D:\\ehome-devspace\\eHome\\frontend\\src\\index.js":"1","D:\\ehome-devspace\\eHome\\frontend\\src\\App.js":"2","D:\\ehome-devspace\\eHome\\frontend\\src\\serviceWorker.js":"3","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppSpinner.js":"4","D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\fclient.js":"5","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Login.js":"6","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppContainer.js":"7","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Settings.js":"8","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Frontpage.js":"9","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppHeader.js":"10","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\NotFound.js":"11","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppMenu.js":"12","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Devices.js":"13","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\EditUserView.js":"14","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\EditGroupView.js":"15","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\Management.js":"16","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserView.js":"17","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupView.js":"18","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\devices\\EditDeviceView.js":"19","D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\SaveDialog.js":"20","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\GroupsTab.js":"21","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\UsersTab.js":"22","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep2.js":"23","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep3.js":"24","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\devices\\DevicesTab.js":"25","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep1.js":"26","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep3.js":"27","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep2.js":"28","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep1.js":"29","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep4.js":"30","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\logs\\LogsTab.js":"31","D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\DeleteDialog.js":"32","D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\backnext.js":"33"},{"size":452,"mtime":499162500000,"results":"34","hashOfConfig":"35"},{"size":1226,"mtime":1607788140134,"results":"36","hashOfConfig":"35"},{"size":4951,"mtime":499162500000,"results":"37","hashOfConfig":"35"},{"size":653,"mtime":1569618088423,"results":"38","hashOfConfig":"35"},{"size":460,"mtime":1568373461818,"results":"39","hashOfConfig":"35"},{"size":3230,"mtime":1613311338540,"results":"40","hashOfConfig":"35"},{"size":2185,"mtime":1613312458143,"results":"41","hashOfConfig":"35"},{"size":154,"mtime":1568413275484,"results":"42","hashOfConfig":"35"},{"size":158,"mtime":1568413275484,"results":"43","hashOfConfig":"35"},{"size":387,"mtime":1607789542232,"results":"44","hashOfConfig":"35"},{"size":146,"mtime":1553696772293,"results":"45","hashOfConfig":"35"},{"size":2035,"mtime":1571849225425,"results":"46","hashOfConfig":"35"},{"size":5157,"mtime":1576585513077,"results":"47","hashOfConfig":"35"},{"size":6593,"mtime":1573050729179,"results":"48","hashOfConfig":"35"},{"size":7205,"mtime":1573050901905,"results":"49","hashOfConfig":"35"},{"size":2721,"mtime":1607550155697,"results":"50","hashOfConfig":"35"},{"size":1816,"mtime":1572122248862,"results":"51","hashOfConfig":"35"},{"size":1825,"mtime":1572175551292,"results":"52","hashOfConfig":"35"},{"size":7119,"mtime":1574018757058,"results":"53","hashOfConfig":"35"},{"size":1235,"mtime":1573050791105,"results":"54","hashOfConfig":"35"},{"size":4869,"mtime":1572817970077,"results":"55","hashOfConfig":"35"},{"size":5122,"mtime":1572988023973,"results":"56","hashOfConfig":"35"},{"size":1822,"mtime":1572026765748,"results":"57","hashOfConfig":"35"},{"size":3083,"mtime":1572380323185,"results":"58","hashOfConfig":"35"},{"size":4310,"mtime":1613308894298,"results":"59","hashOfConfig":"35"},{"size":5556,"mtime":1572114027436,"results":"60","hashOfConfig":"35"},{"size":1953,"mtime":1572188620246,"results":"61","hashOfConfig":"35"},{"size":1868,"mtime":1572188464715,"results":"62","hashOfConfig":"35"},{"size":2687,"mtime":1572865472809,"results":"63","hashOfConfig":"35"},{"size":2158,"mtime":1573050729180,"results":"64","hashOfConfig":"35"},{"size":179,"mtime":1572193005476,"results":"65","hashOfConfig":"35"},{"size":1498,"mtime":1572556517320,"results":"66","hashOfConfig":"35"},{"size":1051,"mtime":1572109447532,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"11vjht9",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"70"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"70"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"70"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"70"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"70"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},"D:\\ehome-devspace\\eHome\\frontend\\src\\index.js",[],["141","142"],"D:\\ehome-devspace\\eHome\\frontend\\src\\App.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\serviceWorker.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppSpinner.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\fclient.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Login.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppContainer.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Settings.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Frontpage.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppHeader.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\NotFound.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\AppMenu.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\Devices.js",["143","144","145","146","147","148"],"import React, { Component } from 'react';\nimport client from '../_helpers/fclient';\n\nimport { InputSwitch } from 'primereact/inputswitch';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Panel } from 'primereact/panel';\nimport { AppSpinner } from './AppSpinner';\nimport { from } from 'rxjs';\nimport { tap, map, reduce, flatMap, concatMap, distinct, toArray } from 'rxjs/operators';\n\nclass DeviceState extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isChanging: false\n    };\n\n    console.log('props');\n    console.log(props);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.status.value !== this.props.status.value) {\n      this.setState({\n        isChanging: false\n      });\n    }\n  }\n\n  onSwitch() {\n    const { name, value } = this.props.status;\n    const st = {\n      name: name,\n      value: !value\n    };\n    this.setState({\n      isChanging: true\n    });\n    this.props.onChange(st)\n  }\n\n  render() {\n    const { name, type, value } = this.props.status;\n\n    const { isChanging } = this.state;\n    // const bValue = value === 'true' ? true : false;\n    // const stateChange = {\n    //   value: !bValue,\n    //   name: name\n    // };\n    // console.log(typeof value);\n    const s = isChanging && <i className=\"pi pi-spin pi-spinner\"></i>;\n\n    const ds = <>\n      <div className=\"p-col-6\">{name}</div>\n      <div className=\"p-col-3\"><InputSwitch disabled={isChanging} checked={value} onChange={() => this.onSwitch()} /></div>\n      <div className=\"p-col-3\">{s}</div>\n    </>;\n    return ds;\n  }\n}\n\nclass Device extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n\n    this.state = {\n      isChanging: false\n    };\n  }\n\n  // TODO check again\n  async onChangeStatus(e) {\n    console.log(e);\n    console.log(e.value);\n    console.log(e.name);\n    const did = this.props.device._id;\n    // this.setState({\n    //   isChanging: true\n    // });\n    // let states = this.props.device.states;\n\n    // let newStates = states.map((sx) => {\n    //   if(sx.name === e.name) {\n    //     return {\n    //       ...sx,\n    //       value: e.value\n    //     };\n    //   } else {\n    //     return sx;\n    //   }\n    // });\n\n    // console.log(newStates);\n\n    const st = await client.service('devicemanager').patch(did, {\n      name: e.name,\n      value: e.value\n    });\n  }\n\n  // componentDidUpdate(prevProps) {\n  //   if (prevProps.device.status !== this.props.device.status) {\n  //     this.setState({\n  //       isChanging: false\n  //     });\n  //   }\n  // }\n\n  render() {\n    const { name, online, states } = this.props.device;\n\n    const w = <i className=\"pi pi-wifi\" style={{ color: online ? 'green' : 'red', float: 'right' }}></i>;\n    console.log(this.props.device);\n    // const disabled = !online || isChanging;\n    // const checked = status === 'on' ? true : false;\n    console.log(states);\n    const header = <span>{name}{w}</span>;\n    return (\n      <div className=\"p-col-12 p-md-3\">\n        <Panel header={header} style={{ textAlign: 'center' }}>\n          <div className=\"p-grid\">\n            {\n              states.map(s => <DeviceState key={s.name} status={s} onChange={(s) => this.onChangeStatus(s)} />)\n            }\n          </div>\n          {/* <InputSwitch disabled={disabled} checked={checked} onChange={this.onChangeStatus} /> */}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nclass Devices extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      devices: [],\n      groups: [],\n      selGroup: ''\n    };\n  }\n\n  async componentDidMount() {\n    const groups = await client.service('groups').find({\n      query: {\n        $paginate: false\n      }\n    });\n\n    from(groups).pipe(\n      flatMap(g => g.devices),\n      distinct(g => g._id),\n      toArray(),\n      // tap(g => console.log(g))\n    ).subscribe(d => {\n      this.setState({\n        devices: d,\n        groups: groups,\n        isLoading: false\n      });\n    });\n\n    client.service('devices').on('patched', d => {\n      console.log(d);\n      this.setState((state, props) => {\n        const devices = state.devices.map((dx) => {\n          if (dx._id === d._id) {\n            return d;\n          } else {\n            return dx;\n          }\n        });\n\n        return { devices };\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    client.service('devices').off('patched');\n  }\n\n  onChange(group) {\n    console.log(group);\n    this.setState({\n      selGroup: group,\n      devices: group.devices\n    });\n  }\n\n  render() {\n    if (this.state.isLoading)\n      return <AppSpinner />;\n\n    return (\n      <div className=\"p-grid\">\n        <div className=\"p-col-12\">\n          <Dropdown value={this.state.selGroup} optionLabel=\"name\" options={this.state.groups} onChange={e => this.onChange(e.value)} placeholder=\"Showing all devices\" />\n        </div>\n        <div className=\"p-col-12\">\n          <div className=\"p-grid\">\n            {\n              this.state.devices.map(d => <Device key={d._id} device={d} />)\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Devices;","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\EditUserView.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\EditGroupView.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\Management.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserView.js",["149"],"import React from 'react';\n\nimport { Steps } from 'primereact/steps';\n\nimport NewUserStep1 from './NewUserStep1';\nimport NewUserStep2 from './NewUserStep2';\nimport NewUserStep3 from './NewUserStep3';\nimport { Button } from 'primereact/button';\n\nclass NewUserView extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.onStepChange = this.onStepChange.bind(this);\n    this.test = this.test.bind(this);\n\n    this.state = {\n      activeStep: 0,\n      data: {\n        username: '',\n        password: '',\n        admin: false,\n        groups: []\n      }\n    };\n  }\n\n  test() {\n    console.log(this.state);\n  }\n\n  onStepChange(event) {\n    console.log(event);\n    if (event.step === -1) {\n      // this.props.cancel();\n      this.props.history.goBack();\n    } else {\n      this.setState(prevState => ({\n        activeStep: event.step,\n        data: {\n          ...prevState.data,\n          ...event.data\n        }\n      }));\n    }\n  }\n\n  render() {\n    const steps = [\n      { label: 'User information' },\n      { label: 'Groups' },\n      { label: 'Summary' }\n    ];\n\n    return (\n      <div className=\"p-grid p-dir-col\">\n        <div className=\"p-col-8 p-offset-2\">\n          <Steps model={steps} activeIndex={this.state.activeStep} />\n        </div>\n        <div className=\"p-col-8 p-offset-2\">\n          <NewUserStep1 changeStep={this.onStepChange} step={this.state.activeStep} />\n        </div>\n        <div className=\"p-col-8 p-offset-2\">\n          <NewUserStep2 changeStep={this.onStepChange} step={this.state.activeStep} />\n        </div>\n        <div className=\"p-col-8 p-offset-2\">\n          <NewUserStep3 history={this.props.history} changeStep={this.onStepChange} step={this.state.activeStep} data={this.state.data} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewUserView;","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupView.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\devices\\EditDeviceView.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\SaveDialog.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\GroupsTab.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\UsersTab.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep2.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep3.js",["150","151","152"],"import React from 'react';\nimport client from '../../../_helpers/fclient';\nimport { Button } from 'primereact/button';\nimport { AppSpinnerCenter } from '../../AppSpinner';\nimport { Panel } from 'primereact/panel';\nimport { Dialog } from 'primereact/dialog';\nimport { BackNext } from '../../../_helpers/backnext';\nimport SaveDialog from '../../../_helpers/SaveDialog';\n\nclass NewUserStep3 extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.save = this.save.bind(this);\n\n    this.state = {\n      isSaving: false\n    };\n  }\n\n  async save() {\n    this.setState({\n      isSaving: true\n    });\n\n    const so = {\n      username: this.props.data.username,\n      password: this.props.data.password,\n      groups: this.props.data.groups.map(g => g._id)\n    };\n\n    try {\n      console.log(so);\n      const user = await this.saveUser();\n      console.log(user._id);\n      const res = await this.saveMemberships(user._id);\n      console.log(res);\n      this.setState({\n        saveMsg: `User ${user.username} saved.`\n      });\n    } catch (e) {\n      console.log(e);\n      this.setState({\n        saveMsg: 'Error: ' + e\n      });\n    }\n  }\n\n  async saveUser() {\n    return await client.service('users').create({\n      username: this.props.data.username,\n      password: this.props.data.password,\n      admin: this.props.data.admin\n    });\n  }\n\n  async saveMemberships(id) {\n    return await client.service('groups').patch(null, {\n      $addToSet: {\n        members: id\n      }\n    }, {\n      query: {\n        _id: {\n          $in: this.props.data.groups.map(g => g._id)\n        }\n      }\n    });\n  }\n\n  render() {\n    if (this.props.step !== 2)\n      return null;\n\n    return (\n      <Panel header=\"Summary\">\n        <div className=\"p-grid\">\n          <div className=\"p-col-5 p-offset-1\">\n            <div className=\"p-grid\">\n              <div className=\"p-col-6\">\n                <b>Username:</b>\n              </div>\n              <div className=\"p-col-6\">\n                {this.props.data.username}\n              </div>\n              <div className=\"p-col-6\">\n                <b>Privilege:</b>\n              </div>\n              <div className=\"p-col-6\">\n                {this.props.data.admin ? 'Administrator' : 'User'}\n              </div>\n            </div>\n          </div>\n          <div className=\"p-col-6\">\n            <div className=\"p-grid p-dir-col\">\n              <div className=\"p-col-12\">\n                <b>Groups</b>\n              </div>\n              {this.props.data.groups.map(g =>\n                <div key={g._id} className=\"p-col-12\">\n                  {g.name}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"p-col-12\">\n            <BackNext\n              step={this.props.step}\n              changeStep={this.props.changeStep}\n              nextLabel=\"save\"\n              onClick={this.save} />\n          </div>\n        </div>\n        {this.state.isSaving && <SaveDialog returnURL=\"/management/users\" msg={this.state.saveMsg} />}\n      </Panel>\n    );\n  }\n}\n\nexport default NewUserStep3;","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\devices\\DevicesTab.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\users\\NewUserStep1.js",["153"],"import React from 'react';\n\nimport { InputText } from 'primereact/inputtext';\nimport { Password } from 'primereact/password';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Panel } from 'primereact/panel';\nimport { Message } from 'primereact/message';\nimport { BackNext } from '../../../_helpers/backnext';\n\nimport { Subject, from, combineLatest } from 'rxjs';\nimport { debounceTime, filter, map, tap, switchMap } from 'rxjs/operators';\nimport client from '../../../_helpers/fclient';\n\n\n\nclass NewUserStep1 extends React.Component {\n  usernameInput$ = new Subject();\n  pw1Input$ = new Subject();\n  pw2Input$ = new Subject();\n  sub;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      password2: '',\n      admin: false,\n      usernameAvailable: true,\n      usernameChecking: false,\n      pwsEqual: true,\n      pwLengthValid: true,\n      editing: true\n    };\n  }\n\n  componentDidMount() {\n    const u1 = this.usernameInput$.pipe(\n      tap(u => this.setState({ username: u, editing: true })),\n      filter(value => value.length > 0),\n      debounceTime(800),\n      tap(() => this.setState({usernameChecking: true})),\n      switchMap(username => this.usernameAvailable(username)),\n      tap(u => this.setState({ usernameAvailable: u, usernameChecking: false }))\n    );\n\n    const p1 = this.pw1Input$.pipe(\n      tap(p => this.setState({ password: p, editing: true }))\n    );\n\n    const p2 = this.pw2Input$.pipe(\n      tap(p => this.setState({ password2: p, editing: true }))\n    );\n\n    const p1p2 = combineLatest(p1, p2).pipe(\n      debounceTime(800),\n      map(pws => pws[0] === pws[1]),\n      tap(pu => {\n        this.setState({\n          pwsEqual: pu,\n          pwLengthValid: this.state.password.length > 5 && this.state.password2.length > 5\n        })\n      })\n    );\n\n    this.sub = combineLatest(u1, p1p2).subscribe(v => {\n      console.log('username available: ' + v[0]);\n      console.log('passwords equal: ' + v[1]);\n      console.log('password length valid: ' + this.state.pwLengthValid);\n      this.setState({\n        editing: false,\n        formValid: v[0] && v[1] && this.state.pwLengthValid\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    console.log(this.state);\n  }\n\n  componentWillUnmount() {\n    this.sub.unsubscribe();\n  }\n\n  async usernameAvailable(username) {\n    const cu = await client.service('users').find({\n      query: {\n        $limit: 0,\n        username: username\n      }\n    });\n    return cu.total === 0;\n  }\n\n  render() {\n    if (this.props.step !== 0)\n      return null;\n\n    const privileges = [\n      { label: 'User', value: false },\n      { label: 'Administrator', value: true }\n    ];\n\n    const { usernameAvailable, usernameChecking, username, pwsEqual, pwLengthValid, password2 } = this.state;\n    const userEntered = username.length > 0;\n    const pwEntered = password2.length > 0;\n    let usernameMsg, pwMsg;\n\n    if (userEntered) {\n      if (usernameChecking) {\n        usernameMsg = <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: '2em' }}></i>;\n      } else if (!usernameAvailable) {\n        usernameMsg = <Message severity=\"error\" text=\"Username is already taken\" />\n      }\n    }\n\n    if (pwEntered) {\n      if (!pwsEqual) {\n        pwMsg = <Message severity=\"error\" text=\"Passwords are not equal\" />;\n      } else if (!pwLengthValid) {\n        pwMsg = <Message severity=\"error\" text=\"Password must be at least 6 Characters long\" />;\n      }\n    }\n\n    return (\n      <Panel header=\"User information\">\n        <div className=\"p-grid\">\n          <div className=\"p-col-10 p-offset-1\">\n            <div className=\"p-grid\">\n              <div className=\"p-col-12\">\n                <h3>Information</h3>\n                <hr />\n              </div>\n              <div className=\"p-col-2\">\n                Username:\n              </div>\n              <div className=\"p-col-4\">\n                <InputText value={this.state.username} onChange={(e) => this.usernameInput$.next(e.target.value)} />\n              </div>\n              <div className=\"p-col-6\">\n                {usernameMsg}\n              </div>\n              <div className=\"p-col-2\">\n                Password:\n              </div>\n              <div className=\"p-col-4\">\n                <Password value={this.state.password} feedback={false} onChange={(e) => this.pw1Input$.next(e.target.value)} />\n              </div>\n              <div className=\"p-col-6\">\n              </div>\n              <div className=\"p-col-2\">\n                Password (repeat):\n              </div>\n              <div className=\"p-col-4\">\n                <Password value={this.state.password2} feedback={false} onChange={(e) => this.pw2Input$.next(e.target.value)} />\n              </div>\n              <div className=\"p-col-6\">\n                {pwMsg}\n              </div>\n              <div className=\"p-col-12\">\n                <h3>Privilege</h3>\n                <hr />\n                <Dropdown options={privileges} value={this.state.admin} onChange={(e) => this.setState({ admin: e.value })} />\n              </div>\n            </div>\n          </div>\n          <div className=\"p-col-10 p-offset-1\">\n            <BackNext\n              step={this.props.step}\n              changeStep={this.props.changeStep}\n              data={{ username: this.state.username, password: this.state.password, admin: this.state.admin }}\n              nextDisabled={!this.state.formValid || this.state.editing}\n            />\n          </div>\n        </div>\n      </Panel>\n    );\n  }\n}\n\nexport default NewUserStep1;","D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep3.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep2.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep1.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\groups\\NewGroupStep4.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\components\\management\\logs\\LogsTab.js",["154"],"import React from 'react';\n\nclass LogsTab extends React.Component {\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return 'Logs...';\n  }\n}\n\nexport default LogsTab;","D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\DeleteDialog.js",[],"D:\\ehome-devspace\\eHome\\frontend\\src\\_helpers\\backnext.js",[],["155","156"],{"ruleId":"157","replacedBy":"158"},{"ruleId":"159","replacedBy":"160"},{"ruleId":"161","severity":1,"message":"162","line":9,"column":10,"nodeType":"163","messageId":"164","endLine":9,"endColumn":13},{"ruleId":"161","severity":1,"message":"165","line":9,"column":15,"nodeType":"163","messageId":"164","endLine":9,"endColumn":18},{"ruleId":"161","severity":1,"message":"166","line":9,"column":20,"nodeType":"163","messageId":"164","endLine":9,"endColumn":26},{"ruleId":"161","severity":1,"message":"167","line":9,"column":37,"nodeType":"163","messageId":"164","endLine":9,"endColumn":46},{"ruleId":"161","severity":1,"message":"168","line":45,"column":19,"nodeType":"163","messageId":"164","endLine":45,"endColumn":23},{"ruleId":"161","severity":1,"message":"169","line":101,"column":11,"nodeType":"163","messageId":"164","endLine":101,"endColumn":13},{"ruleId":"161","severity":1,"message":"170","line":8,"column":10,"nodeType":"163","messageId":"164","endLine":8,"endColumn":16},{"ruleId":"161","severity":1,"message":"170","line":3,"column":10,"nodeType":"163","messageId":"164","endLine":3,"endColumn":16},{"ruleId":"161","severity":1,"message":"171","line":4,"column":10,"nodeType":"163","messageId":"164","endLine":4,"endColumn":26},{"ruleId":"161","severity":1,"message":"172","line":6,"column":10,"nodeType":"163","messageId":"164","endLine":6,"endColumn":16},{"ruleId":"161","severity":1,"message":"173","line":10,"column":19,"nodeType":"163","messageId":"164","endLine":10,"endColumn":23},{"ruleId":"174","severity":1,"message":"175","line":5,"column":3,"nodeType":"176","messageId":"177","endLine":7,"endColumn":4},{"ruleId":"157","replacedBy":"178"},{"ruleId":"159","replacedBy":"179"},"no-native-reassign",["180"],"no-negated-in-lhs",["181"],"no-unused-vars","'tap' is defined but never used.","Identifier","unusedVar","'map' is defined but never used.","'reduce' is defined but never used.","'concatMap' is defined but never used.","'type' is assigned a value but never used.","'st' is assigned a value but never used.","'Button' is defined but never used.","'AppSpinnerCenter' is defined but never used.","'Dialog' is defined but never used.","'from' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor",["180"],["181"],"no-global-assign","no-unsafe-negation"]